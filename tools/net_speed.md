

+ https://iperf.fr/iperf-download.php

+ https://zhuanlan.zhihu.com/p/137958252



不要点 exe 运行（实际点了也不会有任何效果），而是在程序文件所在的文件夹空白处，按住键盘的 shift 键，同时单击鼠标右键，选择在此处打开 PowerShell 窗口，也就是命令行窗口，要注意的是由于 PowerShell 的安全限制，命令前面要加上`.\`，也就是变成：

```text
.\iperf3 -s
```

后面跟的附加参数之类都是一样的用法，不再赘述。不过个人感觉是 windows 主机作为服务端效率似乎不高，更推荐 linux 作为服务端。

搭完了服务端，最后就是用客户端来测速了，其实区别就是输的指令不同，客户端最简单的测速指令就是输入：

```text
iperf3 -c 192.168.2.165
```

默认是客户端发送，服务器端接收。也可以反过来，让服务器端发送，客户端接收，那就是后面跟随`-R` 参数，注意 R 要大写：

```text
iperf3 -c 192.168.2.165 -R
```

默认单线程压力可能会不够，可以加`-P` 参数指定多线程，注意是大写的 P，一般可以设定 5-10 线程：

```text
iperf3 -c 192.168.2.165 -P 5
```

客户端默认只会显示发送的成绩，接收的成绩在服务器端那边显示，显然看起来不方便，于是还可以跟随`--get-server-output`参数，让客户端显示服务器端的信息：

```text
iperf3 -c 192.168.2.165 --get-server-output
```

最后再来说一下无线速率测试，也就是移动端 app 的使用，支持 iperf 的 app 有很多，我个人一般使用的是 `he.net - Network Tools` 这一款软件，安卓和 IOS 平台都支持，官网为 [http://networktools.he.net/](https://link.zhihu.com/?target=http%3A//networktools.he.net/)。

实际这是一个测试网络的综合型工具，里头各种功能都有，iperf 只不过是其中一项。软件的用法也很简单，菜单列表里直接选择 iperf3。

秒表图表是设定数据汇报时间，也就是每隔 N 秒显示一次速率数据。

第二个芯片图标是设定测试数据包大小，单位可以是 K 或者 M，10G 数据包就可以直接填 10240M。

最后输入服务器端的 ip 即可进行测试：

**特别要注意的是无线网络的速率是会有损耗的**，不是握手显示多少速率就能跑多少。比如上图是两个手机不同的握手速率，分别为 433Mbps 和 1733Mbps，并不代表就能跑到这么高的速率。

实际能跑到的峰值速度一般是 WiFi 握手速率的 70% 左右，也就是手机单天线 433Mbps 实际能跑到 300Mbps 就算是到顶了，双天线 866Mbps 一般是 600Mbps 就封顶了。

**最后还要说的是测速一概仅供参考，不要盲目迷信测速结果，认为测速成绩没跑满就是设备或路由有问题。**